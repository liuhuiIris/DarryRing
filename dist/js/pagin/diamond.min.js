require(["config"],function(){require(["jquery","jquery.ui","jquery.cookie"],function(t){t(function(){function e(e,s,a){this.perPage=a||12,this.total=e.length,this.body=s,this.init=function(){return this.currPage=1,this.odd=this.total%this.perPage,this.pageNum=Math.ceil(this.total/this.perPage),this},this.showNextPage=function(){this.currPage=this.getNextPgeNum(),this.show()},this.showPrePage=function(){this.currPage=this.getPrePageNum(),this.show()},this.getCurNum=function(){return(this.currPage-1)*this.perPage},this.getCurCount=function(){return this.currPage==this.pageNum?this.odd:this.perPage},this.getPrePageNum=function(){return 1==this.currPage?this.currPage:this.currPage-1},this.getNextPgeNum=function(){return this.currPage==this.pageNum?this.currPage:this.currPage+1},this.show=function(){t(this.body).html("");for(var s=this.getCurNum();s<this.getCurNum()+this.getCurCount();s++){var a="";(s+1)%3==0&&(a="class='right'"),t(this.body).append("<li "+a+"><dl><dt><a href='detail.html?goodid="+e[s].dimond_id+"'><img src='"+e[s].src+"'/></a></dt><dd class='price'>￥"+e[s].price+"</dd><dd class='type'><span>"+e[s].series+"</span> <span>"+e[s].style+" </span><span>"+e[s].match+"</span></dd><dd><a href='###' class='collect'>收藏</a><a href='###' class='buynow'>立即购买</a></dd><dd>已售:<span class='sell'>26792</span>评价: <span class='comment'>2710</span></dd></dl></li>")}}}t.ajax({type:"get",url:"./json/goods.json",dataType:"json",success:function(s){window.showpage=new e(s,"#goodslist").init(),t("#totalgoods").text(showpage.total),t("#nowpage").text(showpage.currPage),t("#totalpage").text(showpage.pageNum),showpage.show()}}),t("#pagepre").click(function(){t.ajax({type:"get",url:"./json/goods.json",dataType:"json",success:function(e){showpage.showPrePage(),t("#nowpage").text(showpage.currPage)}})}),t("#pagenext").click(function(){t.ajax({type:"get",url:"./json/goods.json",dataType:"json",success:function(e){showpage.showNextPage(),t("#nowpage").text(showpage.currPage)}})})})})});