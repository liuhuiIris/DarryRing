require(["config"],function(){require(["jquery","jquery.cookie"],function(t){var e=[],r=[];t.cookie("shoppingcar")&&(e=t.cookie("shoppingcar").split(","),t.ajax({url:"json/goods.json",success:function(c){e.forEach(function(e){var i=c.filter(function(t){return t.dimond_id==e})[0];t(".car_title").after("<tr><td><input type='checkbox' name='' id='' value='' index='"+(r.push(i)-1)+"' /></td><td><img src='"+i.src+"'/></td><td>"+i.series+"</td><td>16</td><td>love</td><td>￥"+i.price+"</td></tr>")})}}));var c=0,i=0;t("input:first").click(function(){if(t(this).prop("checked")){t("input:gt(0)").prop("checked","checked");r[0].price;for(var e in r)c+=Number(r[e].price),i++}else t("input:gt(0)").removeProp("checked"),c=0,i=0;t(".count").text(i),t(".total").text("￥"+c)}),t(".car_list").click(function(n){n=n||event,"INPUT"==n.target.nodeName&&(t(n.target).attr("index")>=0&&(t(n.target).prop("checked")?(c+=Number(r[t(n.target).attr("index")].price),i++):(c-=Number(r[t(n.target).attr("index")].price),i--)),t(".count").text(i),t(".total").text("￥"+c),t("input:gt(0)").filter(function(){return t(this).prop("checked")}).size()==e.length?t("input:first").prop("checked","checked"):t("input:first").prop("checked",""))})})});